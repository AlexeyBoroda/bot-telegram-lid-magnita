# Telegram-–±–æ—Ç ¬´–ê–Ω—Ç–∏–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å—á—ë—Ç–∞¬ª + –¥–∞—à–±–æ—Ä–¥ –ø–æ –ª–∏–¥-–º–∞–≥–Ω–∏—Ç–∞–º

–ü—Ä–æ–µ–∫—Ç —Ä–µ—à–∞–µ—Ç –∑–∞–¥–∞—á—É: **–∏–∑–º–µ—Ä—è—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —à–æ—Ä—Ç–æ–≤/–∫–ª–∏–ø–æ–≤ –∏ –ª–∏–¥-–º–∞–≥–Ω–∏—Ç–æ–≤**, –ø—Ä–∏–≤–æ–¥—è—â–∏—Ö –ª—é–¥–µ–π –≤ Telegram-–±–æ—Ç–∞, –∏ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –ø–æ–¥—Ç–∞–ª–∫–∏–≤–∞—Ç—å –∏—Ö –∫ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—é –∫—É—Ä—Å–∞ ¬´–ö–∞–∫ –≤–µ—Å—Ç–∏ –±–∏–∑–Ω–µ—Å, —á—Ç–æ–±—ã –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∏ —Å—á–µ—Ç–∞¬ª.

---

## 1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

### 1.1. –û–±—â–∞—è —Å—Ö–µ–º–∞

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —à–æ—Ä—Ç / –∫–ª–∏–ø / –ø–æ—Å—Ç, –≥–¥–µ —É–∫–∞–∑–∞–Ω–∞ —Å—Å—ã–ª–∫–∞ –≤–∏–¥–∞:

   ```text
   https://t.me/BorodulinAntiBlockBot?start=yt_TH1_CL_01

–ü–∞—Ä–∞–º–µ—Ç—Ä –ø–æ—Å–ª–µ start= –∫–æ–¥–∏—Ä—É–µ—Ç:

    yt ‚Äî –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ (YouTube, VK, TG –∏ —Ç.–¥.);

    TH1 ‚Äî —Ç–µ–º–∞ (–Ω–∞–±–æ—Ä –∑–∞—Ä–∞–Ω–µ–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Ç–µ–º–∞—Ç–∏–∫);

    CL ‚Äî —Ç–∏–ø –ª–∏–¥-–º–∞–≥–Ω–∏—Ç–∞: —á–µ–∫-–ª–∏—Å—Ç / –º–∏–Ω–∏-–≥–∞–π–¥ / –∫–≤–∏–∑;

    01 ‚Äî –Ω–æ–º–µ—Ä –∫—Ä–µ–∞—Ç–∏–≤–∞.

    –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –±–æ—Ç–∞ –ø–æ deep-link /start.

    –ë–æ—Ç:

        —Ä–∞–∑–±–∏—Ä–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä start –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –∏ –∏—Å—Ç–æ—á–Ω–∏–∫–µ –≤ users.json;

        –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ start –≤ logs/events.csv;

        –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –ø—Ä–æ—Å–∏—Ç –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫–∞–Ω–∞–ª.

    –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∏:

        –±–æ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ –∫–∞–Ω–∞–ª;

        –ø–æ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ THx_TT_NN –∏—â–µ—Ç –ª–∏–¥-–º–∞–≥–Ω–∏—Ç (—Ñ–∞–π–ª) –≤ —Å–ª–æ–≤–∞—Ä–µ LEAD_FILES –∏ –ø–∞–ø–∫–µ assets/leads;

        –µ—Å–ª–∏ —Ñ–∞–π–ª –Ω–∞–π–¥–µ–Ω ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏ –ª–æ–≥–∏—Ä—É–µ—Ç —Å–æ–±—ã—Ç–∏–µ lead_sent;

        –ø–æ—Å–ª–µ –≤—ã–¥–∞—á–∏ –ª–∏–¥-–º–∞–≥–Ω–∏—Ç–∞ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –ø—Ä–æ–π—Ç–∏ –∫—É—Ä—Å –≤ –æ–¥–Ω–æ–º –∏–∑ —Ñ–æ—Ä–º–∞—Ç–æ–≤ (Free / Base / PRO) —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫–∏ —Å–æ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ Stepik.

    –û—Ç–¥–µ–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç build_stats.py –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç —Å–æ–±—ã—Ç–∏—è –∏–∑ events.csv –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–≤–æ–¥–∫—É –≤ stats/stats.json.

    –§–∞–π–ª dashboard.html —á–∏—Ç–∞–µ—Ç stats/stats.json –∏ —Ä–∏—Å—É–µ—Ç –¥–∞—à–±–æ—Ä–¥: –∫–∞—Ä—Ç—ã —Å —á–∏—Å–ª–∞–º–∏, –∫—Ä—É–≥–æ–≤—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã –∏ –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—ã.

2. –ì–¥–µ —á—Ç–æ –ª–µ–∂–∏—Ç
2.1. –ü–∞–ø–∫–∏ –∏ —Ñ–∞–π–ª—ã

    bot_polling.py ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –±–æ—Ç–∞ (—Ä–µ–∂–∏–º polling, —Ä–∞—Å—Å—á–∏—Ç–∞–Ω –Ω–∞ –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ cron).

    config.py ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞:

        –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º –∏ –ø–∞–ø–∫–∞–º;

        —Å–ª–æ–≤–∞—Ä—å LEAD_FILES;

        –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–æ—Ç—É –∏ –∫–∞–Ω–∞–ª—É.

    storage.py ‚Äî —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–æ–≤—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º:

        users.json ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º;

        events.csv ‚Äî –∂—É—Ä–Ω–∞–ª —Å–æ–±—ã—Ç–∏–π.

    utils.py ‚Äî –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ (—á—Ç–µ–Ω–∏–µ events.csv –∏ users.json).

    build_stats.py ‚Äî —Å–∫—Ä–∏–ø—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è stats/stats.json –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–æ–±—ã—Ç–∏–π.

    dashboard.html ‚Äî —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–∞—à–±–æ—Ä–¥, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫—É.

    .env ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –ø—Ä–∏–º–µ—Ä):

    BOT_TOKEN=1234567890:AA...
    CHANNEL_ID=@Borodulin_expert

    FREE_URL=https://stepik.org/a/252809
    BASE_URL=https://stepik.org/a/252040
    PRO_URL=https://stepik.org/a/252823

    assets/leads/ ‚Äî –ø–∞–ø–∫–∞, –≥–¥–µ —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –ª–µ–∂–∞—Ç PDF / DOCX –ª–∏–¥-–º–∞–≥–Ω–∏—Ç–æ–≤.

    data/users.json ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.

    logs/events.csv ‚Äî –ª–æ–≥ —Å–æ–±—ã—Ç–∏–π.

    stats/stats.json ‚Äî –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞).

3. –§–æ—Ä–º–∞—Ç —Å—Å—ã–ª–æ–∫ –∏ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞
3.1. –§–æ—Ä–º–∞—Ç start –ø–∞—Ä–∞–º–µ—Ç—Ä–∞

–ü–∞—Ä–∞–º–µ—Ç—Ä –ø–æ—Å–ª–µ /start –≤—Å–µ–≥–¥–∞ –∏–º–µ–µ—Ç –≤–∏–¥:

<platform>_<theme>_<lead_type>_<creative>

–ü—Ä–∏–º–µ—Ä—ã:

    yt_TH1_CL_01

    vk_TH2_MG_01

    yt_TH3_QZ_02

–ì–¥–µ:

    platform ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫ —Ç—Ä–∞—Ñ–∏–∫–∞:

        yt ‚Äî YouTube Shorts,

        vk ‚Äî VK –∫–ª–∏–ø—ã,

        –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∏ –¥—Ä—É–≥–∏–µ.

    theme (THx):

        TH1 ‚Äî ¬´–°—á—ë—Ç —É–∂–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω ‚Äî —á—Ç–æ –¥–µ–ª–∞—Ç—å –ø–æ —à–∞–≥–∞–º?¬ª

        TH2 ‚Äî ¬´–ö–∞–∫ –Ω–µ –ø–æ–ø–∞—Å—Ç—å –ø–æ–¥ –±–ª–æ–∫–∏—Ä–æ–≤–∫—É (—Ç—Ä–∏–≥–≥–µ—Ä—ã 115-–§–ó –∏ –ó–°–ö)¬ª

        TH3 ‚Äî ¬´–î–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è –±–∞–Ω–∫–∞: —á—Ç–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∑–∞—Ä–∞–Ω–µ–µ¬ª

        TH4 ‚Äî ¬´–ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–≤–µ—á–∞—Ç—å –±–∞–Ω–∫—É / –ú–í–ö¬ª

    lead_type:

        CL ‚Äî —á–µ–∫-–ª–∏—Å—Ç,

        MG ‚Äî –º–∏–Ω–∏-–≥–∞–π–¥,

        QZ ‚Äî –∫–≤–∏–∑ / –º–∏–Ω–∏-–∞—É–¥–∏—Ç.

    creative ‚Äî –Ω–æ–º–µ—Ä –∫—Ä–µ–∞—Ç–∏–≤–∞ (01, 02, 03 –∏ —Ç.–¥.).

–≠—Ç–∏ 4 –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ø–∞–¥–∞—é—Ç –≤:

    users.json ‚Äî –∫–∞–∫ —Å–≤–æ–π—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–æ—Å–ª–µ–¥–Ω–∏–π –∏—Å—Ç–æ—á–Ω–∏–∫);

    events.csv ‚Äî –∫–∞–∫ –∫–æ–ª–æ–Ω–∫–∏ platform, theme, lead_type, creative.

4. –•—Ä–∞–Ω–µ–Ω–∏–µ –ª–∏–¥-–º–∞–≥–Ω–∏—Ç–æ–≤ –∏ —Å–ª–æ–≤–∞—Ä—å LEAD_FILES
4.1. –ü–∞–ø–∫–∞ —Å —Ñ–∞–π–ª–∞–º–∏

–í—Å–µ –ª–∏–¥-–º–∞–≥–Ω–∏—Ç—ã –ª–µ–∂–∞—Ç –≤:

assets/leads/

–ò–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–º–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä:

    checklist_24h.pdf

    block_account_steps_TH2_01.pdf

    TH1_miniguide_structured.pdf

4.2. –°–ª–æ–≤–∞—Ä—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è

–ü—Ä–∏–≤—è–∑–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ THx_TT_NN –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É —Ñ–∞–π–ª—É –¥–µ–ª–∞–µ—Ç—Å—è –≤ config.py:

LEAD_FILES = {
    "TH1_CL_01": "checklist_24h.pdf",
    # "TH1_CL_02": "TH1_checklist_case-02.pdf",
    # "TH1_MG_01": "TH1_miniguide_structured.pdf",
    # "TH2_CL_01": "block_account_steps_TH2_01.pdf",
    # ...
}

–õ–æ–≥–∏–∫–∞:

    –∫–ª—é—á —Å–ª–æ–≤–∞—Ä—è: THx_TT_NN;

    –∑–Ω–∞—á–µ–Ω–∏–µ: –∏–º—è —Ñ–∞–π–ª–∞ –≤–Ω—É—Ç—Ä–∏ assets/leads/.

4.3. –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–π —Ñ–∞–π–ª / –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–ª—é—á

–ï—Å–ª–∏:

    –∫–ª—é—á THx_TT_NN –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ LEAD_FILES, –∏–ª–∏

    —Ñ–∞–π–ª –ø–æ —ç—Ç–æ–º—É –∏–º–µ–Ω–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ assets/leads,

—Ç–æ –±–æ—Ç:

    –ù–µ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–∏–∫–∞–∫–∏—Ö —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤;

    –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å–æ–æ–±—â–µ–Ω–∏–µ:

        ¬´–§–∞–π–ª–∞ –Ω–µ—Ç. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –ê–ª–µ–∫—Å–µ—é –ë–æ—Ä–æ–¥—É–ª–∏–Ω—É.¬ª

    –õ–æ–≥–∏—Ä—É–µ—Ç —Å–æ–±—ã—Ç–∏–µ lead_file_not_found –≤ events.csv.

5. –õ–æ–≥–∏–∫–∞ –±–æ—Ç–∞
5.1. –§–∞–π–ª bot_polling.py

–û—Å–Ω–æ–≤–Ω—ã–µ —à–∞–≥–∏:

    CommandHandler("start", start):

        —Ä–∞–∑–±–∏—Ä–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä /start;

        –≤—ã–∑—ã–≤–∞–µ—Ç update_user(...);

        –ø–∏—à–µ—Ç log_event(..., event="start");

        –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –∫–Ω–æ–ø–∫–∏:

            ¬´üì¢ –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫–∞–Ω–∞–ª¬ª (—Å—Å—ã–ª–∫–∞ –Ω–∞ CHANNEL_ID);

            ¬´‚úÖ –£–∂–µ –ø–æ–¥–ø–∏—Å–∞–ª—Å—è ‚Äî –≤—ã–¥–∞—Ç—å —Ñ–∞–π–ª¬ª (callback_data="check_sub").

    CallbackQueryHandler(check_subscription, pattern="^check_sub$"):

        –ø–æ–ª—É—á–∞–µ—Ç callback –æ—Ç –∫–Ω–æ–ø–∫–∏;

        –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–ø–∏—Å–∫—É –Ω–∞ –∫–∞–Ω–∞–ª;

        –µ—Å–ª–∏ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–µ—Ç ‚Äî –ø–æ–≤—Ç–æ—Ä–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–Ω–æ–ø–∫–∏ –ø–æ–¥–ø–∏—Å–∫–∏, –Ω–µ –¥—É–±–ª–∏—Ä—É—è —Ç–µ–∫—Å—Ç (–∑–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–∫–∏ ¬´Message is not modified¬ª);

        –µ—Å–ª–∏ –ø–æ–¥–ø–∏—Å–∫–∞ –µ—Å—Ç—å:

            —á–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏–∑ users.json;

            –∏—â–µ—Ç –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É —á–µ—Ä–µ–∑ get_lead_file_path(theme, lead_type, creative);

            –µ—Å–ª–∏ –ø—É—Ç—å –ø—É—Å—Ç–æ–π ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ ¬´–§–∞–π–ª–∞ –Ω–µ—Ç...¬ª –∏ –ª–æ–≥–∏—Ä—É–µ—Ç lead_file_not_found;

            –µ—Å–ª–∏ —Ñ–∞–π–ª –µ—Å—Ç—å ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç, –ª–æ–≥–∏—Ä—É–µ—Ç lead_sent, –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (lead_sent=True).

    –ü–æ—Å–ª–µ –≤—ã–¥–∞—á–∏ —Ñ–∞–π–ª–∞ –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∫–Ω–æ–ø–∫–∞–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞ –∫—É—Ä—Å–∞:

        Free,

        Base,

        PRO,

    —Å –ø—Ä—è–º—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ Stepik (–∏–∑ .env –∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).

5.2. –ó–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–∫–∏ Telegram BadRequest: Message is not modified

–í check_subscription –ø—Ä–∏ edit_message_text –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º —Ç–µ–∫—Å—Ç–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è, –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç –ª–∏ –Ω–æ–≤—ã–π —Ç–µ–∫—Å—Ç —Å —Ç–µ–∫—É—â–∏–º. –≠—Ç–æ –≤–∞–∂–Ω–æ, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –Ω–∞–∂–∏–º–∞–µ—Ç –æ–¥–Ω—É –∏ —Ç—É –∂–µ –∫–Ω–æ–ø–∫—É ‚Äî Telegram –Ω–µ –ª—é–±–∏—Ç ¬´—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ç–æ –∂–µ —Å–∞–º–æ–µ¬ª.
6. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
6.1. users.json

–ü—Ä–∏–º–µ—Ä –∑–∞–ø–∏—Å–∏:

{
  "243676537": {
    "chat_id": 243676537,
    "platform": "yt",
    "theme": "TH1",
    "lead_type": "CL",
    "creative": "01",
    "lead_sent": true
  }
}

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:

    —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è;

    —Å–≤—è–∑–∏ user_id ‚Üí chat_id;

    –ø–æ–Ω–∏–º–∞–Ω–∏—è, –±—ã–ª –ª–∏ –ª–∏–¥-–º–∞–≥–Ω–∏—Ç –≤—ã–¥–∞–Ω —Ö–æ—Ç—è –±—ã —Ä–∞–∑.

6.2. events.csv

–§–æ—Ä–º–∞—Ç:

timestamp;chat_id;user_id;event;platform;theme;lead_type;creative;extra

–ü—Ä–∏–º–µ—Ä—ã —Å—Ç—Ä–æ–∫:

2025-12-10T16:25:10.440831;243676537;243676537;start;yt;TH1;CL;01;
2025-12-10T16:53:23.663608;243676537;243676537;lead_sent;yt;TH1;CL;01;lead_type=CL

–¢–∏–ø–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è event:

    start ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—à—ë–ª –ø–æ deep-link.

    lead_sent ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤—ã–¥–∞–Ω —Ñ–∞–π–ª.

    lead_file_not_found ‚Äî –¥–ª—è –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω —Ñ–∞–π–ª.

    button_click ‚Äî —Ä–µ–∑–µ—Ä–≤ –Ω–∞ –±—É–¥—É—â–µ–µ (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã callback-–∫–Ω–æ–ø–∫–∏ –¥–ª—è –∫—É—Ä—Å–æ–≤).

7. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –¥–∞—à–±–æ—Ä–¥
7.1. –°–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

–°–∫—Ä–∏–ø—Ç build_stats.py:

    —á–∏—Ç–∞–µ—Ç events.csv –∏ users.json;

    —Å—Ç—Ä–æ–∏—Ç –∞–≥—Ä–µ–≥–∞—Ç—ã:

        –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–±—ã—Ç–∏–π;

        –æ–±—â–µ–µ —á–∏—Å–ª–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π;

        —á–∏—Å–ª–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –≤—ã–¥–∞–Ω–Ω—ã–º –ª–∏–¥-–º–∞–≥–Ω–∏—Ç–æ–º;

        –¥–∏–Ω–∞–º–∏–∫–∞ –ø–æ –¥–Ω—è–º:

            events_by_day;

            leads_by_day;

        —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:

            by_platform (—Å–æ–±—ã—Ç–∏—è –∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ –∫–∞–∂–¥–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ);

            by_theme (–ø–æ —Ç–µ–º–∞–º TH1‚ÄìTH4);

            by_lead_type (CL / MG / QZ);

            by_creative (01, 02, 03...);

        best_creatives ‚Äî —Å–ø–∏—Å–æ–∫ THx_TT_NN –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π;

        leads_by_theme_users ‚Äî —Å–∫–æ–ª—å–∫–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ª—é–¥–µ–π –ø–æ–ª—É—á–∏–ª–æ –ª–∏–¥-–º–∞–≥–Ω–∏—Ç –ø–æ –∫–∞–∂–¥–æ–π —Ç–µ–º–µ.

    –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤—Å—ë –≤ stats/stats.json.

7.2. –î–∞—à–±–æ—Ä–¥ dashboard.html

–î–∞—à–±–æ—Ä–¥:

    –ø–æ–¥–≥—Ä—É–∂–∞–µ—Ç stats/stats.json —á–µ—Ä–µ–∑ fetch;

    —Ä–∏—Å—É–µ—Ç:

        –ö–∞—Ä—Ç–æ—á–∫–∏ summary:

            ¬´–ò—Ç–æ–≥ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º¬ª;

            ¬´–°–æ–±—ã—Ç–∏—è –≤ –±–æ—Ç–µ¬ª.

        –ö—Ä—É–≥–æ–≤—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã + ¬´–ø–∏–ª–ª—ã¬ª:

            –ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º (–∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Ç—Ä–∞—Ñ–∏–∫–∞);

            –ø–æ —Ç–µ–º–∞–º (TH1‚ÄìTH4);

            –ø–æ —Ç–∏–ø–∞–º –ª–∏–¥-–º–∞–≥–Ω–∏—Ç–æ–≤ (CL / MG / QZ);

            –ø–æ –∫—Ä–µ–∞—Ç–∏–≤–∞–º.

        –¢–∞–±–ª–∏—Ü—É –ª—É—á—à–∏—Ö —Å–≤—è–∑–æ–∫ THx_TT_NN –ø–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.

        –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º—É ¬´–õ–∏–¥—ã –ø–æ —Ç–µ–º–∞–º¬ª (—Å–∫–æ–ª—å–∫–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –ª–∏–¥-–º–∞–≥–Ω–∏—Ç–æ–º –ø–æ –∫–∞–∂–¥–æ–π —Ç–µ–º–µ).

        –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º—É –¥–∏–Ω–∞–º–∏–∫–∏ –ø–æ –¥–Ω—è–º (–≤—Å–µ —Å–æ–±—ã—Ç–∏—è –∏ –≤—ã–¥–∞—á–∏ –ª–∏–¥-–º–∞–≥–Ω–∏—Ç–æ–≤).

–î–ª—è –ø–æ—è—Å–Ω–µ–Ω–∏—è, —á—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞–∂–¥—ã–π –±–ª–æ–∫, —Ä—è–¥–æ–º —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –µ—Å—Ç—å –∑–Ω–∞—á–æ–∫ i —Å title-–ø–æ–¥—Å–∫–∞–∑–∫–æ–π.
8. –°—Ç–∏–ª—å Borodulin

–í–µ–∑–¥–µ —Å–æ–±–ª—é–¥–∞–µ—Ç—Å—è –µ–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å:

    –§–æ–Ω: –±–µ–ª—ã–π.

    –û—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞: —Ç—ë–º–Ω–æ-—Å–∏–Ω–∏–π #002060.

    –ê–∫—Ü–µ–Ω—Ç—ã: –∫—Ä–∞—Å–Ω—ã–π #C00000.

    –í—ë—Ä—Å—Ç–∫–∞: –º–Ω–æ–≥–æ –≤–æ–∑–¥—É—Ö–∞, –º–∏–Ω–∏–º—É–º —à—É–º–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

    –ë—Ä–µ–Ω–¥–∏–Ω–≥: –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –¥–∞—à–±–æ—Ä–¥–∞ ‚Äî borodulin.expert –∏ @Borodulin_expert.